// import { ChatGPTAPI } from "chatgpt";
import { ChatGPTAPI } from "@actuallydan/chatgpt";

export async function chat() {
  const api = new ChatGPTAPI({
    sessionToken:
      "eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..TdH51U9h1uIa64oH.BWowqVdzf3cz-AOV4Wf69H8f7SmCVzhsUL-yX0PGFr7NQbajEPac9d5K5wDS8pyH956WNVP43FsQZEpFoXABZ7xzUigUNgJDrkM8u_ePjqCQKzLUwKCSxo94cqoHisPvruTwkHwH0X-SVw0oP-AtnB4No_NTMhcNiP8wlzX5bep86iKbpflN694oq58uzqLevA_V6NvhTr8l9KaIoByORmB2SE2q_FcF_pWsoEjr6XlvugcMwqY6GIubbB99hbiRrCvIH0PO0dLpFdK0Th4zXhNaCks_Yq0aMqyHoXAe2YJPosQpKvxI5TT5sqvqexaNTbt31KQR_CGue6CeKLzfpyAA10jpIdle7unoFuIsF9IHdC-whlWpNhSkPaFfz8TzFSWDNLCO9ahpKzQCgZ9P4vPPWd7Wxf-0qxTo4aAYtSYnJGk6Kc7uIAnlU4FtjEl7sWr-lQr90XyHXsiDdcHm6H71pNoOUM3Q_bc0JuAXQERqlwRGExZVUCPAtqil_3mTw857goO84afHsqOW347Gbtk_mORuoEM1UVKAOEEcnhQAfxz9YYTYhuM1eDvQ8KZLrOWeCzrIiURzHmVMd6ZmzycHJK2jp15tBX8UFmTHccwIN6nbQSSufaSbOUWRyJ_tCLIQ_tWD44Xm-FWCgY0nVBmfAbk3JcUp4BoAn3kzPLFj15D_tqP4pzrfNLhvqUOoLONCnrnbLDwKRCDJA5ftvyL0P6JCyA9J3xFob7zFbI6PAOp-pWH9kYdgGxv2EsCSM4IiwMHos6AuByBGIRWb6QTLPYX-e2IDQeKrqLMVU4nwim4GPk2aYurVKwDwj2mu4ht3LDh3MRkGYVa_lOUuQMxQjssFKICUe3GrYHQsHyuRQkTDKZe8GLsIIYpZpsbu3ejdecTa8HKN81ue62ImPmZ8CWAwQQ6-W_UF_WMkay5ELoRB8MaXffUlH3G9kURgGcb8t--Kx_E4bVCAsL-MZpr2CLZ1O-yO9fIJJY39vMynHYkkCTla1XLV_9WmCYiPx9q4IkhHZf8ohdMwmE1vXaWWEMFuK2860d08yllYIfrplQ4EHAWrTed_R3fTVB85BgGqpxrEIb0YiJYoOxQ1o9wJhOIdfgE8J821_QD9sb61K3NOZZJE-N9UzaelgI21TaS-tVFFivp6sZX0tU93Jp8HmMJZY762KVOlT9b_Fbg7Z1BZg4VLEztzKIVG5Bfa3juYCqmdrUDt0iZd6AIbrHLszYq-1wTZakcqk59qHgH8nxykweGp1EgysmcB6-YAYDq19l2RWRkZa-OrkAWgD6Gsx9GAZ8ejBty3qhcOmNm49LRdjcbmQJdXtvVzCgl-Ful4n9ETxpXlTS8mIm-KyjUrVzNSBQAGZ3GrMYjsfPNpY2pM-k7UHLiUAyH4fZL5fwa4xUJj7Ht7LJoNq5ZdhP-Nj6ksGR2nqfM8XSSnqw_4kXgNAZBGH9ts76mMmq0fTU_gc88Ggg61CPsBL3ePSc94pLuCeF4JnsFn4b-8eWClL3OZG58EMTLcFszMuo7Hpp4LXQQQVuaKeUWREF2JczXOYtaWsRHHQ9NpEAvY_6uy6-UHEoSYwW1BhHJpWVXLfJvZ_G1t0pT5557eykKACvt0lushKJddSfBN47xe2ATCKAndkgcl0DLj8PKZtXqfqf0Yxl8hukoy7hoJwLXfOnjoepYN9cXmASWuoyFCy62AYmLo6KJ0OxFpjxsScBpZsv9bDW4aJgseoCaUyf5-EGWC_F4bnZMKbQ8hHR0IuhpaXYsZ-m5TziuKiZGByDjGkSrb2lIqp642e9Y53zjgNtp0aSpCy7KuZEUR-8klN6QIxkfIzFM4ba4TPPkvcsHMJf_Ii87XXzYSu_tFHVUKNCGILmhT_nXiTofyuhEycjc9j_0m3peZb-Lwo_bmJo9srDggi4CyHuaSdXURb8VdBi28QtqsCWADrTt7YFEPStMFlN_kuc6_DFvEXan54tBkr5uYH91PxXmWFZxZy0P_QSSncnLBRHb9oLws5S2YOhKBetGDX9S1nYfkH4VcDuwWxqWPT7hu_L1iGPDTapl-qQI_MVxh4Sw0FsOMsuadlARpPWojpVPR_H8-SefUKKBMcglU6CeWFrVkiIlo66RRetda7l3-eh9qlkZBBeZTiVER7eJHPFl128cuftd6TwkuM5Ye1d0SZf3Ihz55xYNyJxsjAGDaxfd5vHoWkzIH5z7gRFCyfxUNAn6TC07afw4hvYCzSH6Vf9rX55IP6ga55wZI_Kw1vX0Vw-x_jjF_8dlYteqeYJ2c5_L121_qxNTKaV-k7X8NpxF7uE5yP1FiIbxmg1gEOXvFpp5nmvUklU7c-7EsOQME60x1kLb0SZ68-npMwzzmPh6RAzRrSNVAzgn33chGRnHOSfbZdYP9hLxpr83SW8uwNkrilQBX3COsg4WfJ3VDbcHWE1rfXYNYYjnmu2gjWu_-CyV8LYWPQIZGwENIXho9ppwc1tQEmPHqgx5fQXs_GoP-2K8B-7yPPuSv3zQaQjgFlUbi4uYF5JFLKT8iUnGZH4o8hw.JyI7S788t0N7DCXGmc59Iw",
  });

  // ensure the API is properly authenticated
  await api.ensureAuth();

  const response = await api.sendMessage(
    "Write a python version of bubble sort. Do not include example usage."
  );

  // response is a markdown-formatted string
  return response;
}
